<!DOCTYPE html>
<html lang="en">
  <head>
    <title>{{.Title}}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="pico.min.css" />
    <style>
      header.banner {
        background-color: darkblue;
        color: white;
        padding: 0.5rem;
      }
      .table-container {
        overflow-x: auto;
      }
      td, th {
        white-space: nowrap;
      }
      td.numeric {
        text-align: right;
      }
    </style>
  </head>
  <body>

    <header class="container banner">
      <strong>{{.Title}} Items</strong>
    </header>

    <nav class="container">
      <ul>
        <li><a href="/gallery">Gallery</a></li>
        {{ if .User.IsAdmin }}
        <li><a href="/edit/0">New Item</a></li>
        {{ end }}
      </ul>
      <ul>
        <li>
          {{ if .User.Username }}
            <a href="/logout">Logout {{.User.Username}}</a>
          {{ else }}
            <a href="/login?r=/items">Login</a>
          {{ end }}
        </li>
      </ul>
    </nav>

    <main class="container table-container">
      <table role="grid">
        <thead>
          <tr>
            <th>ID</th>
            <th>Artist/Donor</th>
            <th>Title</th>
            <th>Description</th>
            <th>Opening</th>
            <th>Increment</th>
            <th>Current</th>
            <th>Bidder</th>
            {{if .User.IsAdmin}}<th>Image File</th>{{end}}
          </tr>
        </thead>
        <tbody>
          {{range .Items}}
          <tr>
            <td class="numeric">
            {{- if $.User.IsAdmin}}<a href="/edit/{{.ID}}">{{.ID}}</a>
            {{- else}}{{.ID}}{{end -}}
            </td>
            <td>{{.Artist}}</td>
            <td>{{.Title}}</td>
            <td>{{.Description}}</td>
            <td class="numeric">{{printf "$%10.2f" .OpeningBid}}</td>
            <td class="numeric">{{printf "$%10.2f" .MinBidIncr}}</td>
            <td class="numeric">{{printf "$%10.2f" .CurrentBid}}</td>
            <td>{{.Bidder}}</td>
            {{if $.User.IsAdmin}}<td>{{.ImageFileName}}</td>{{end}}
          </tr>
          {{end}}
        </tbody>
      </table>
    </main>

  </body>
</html>
